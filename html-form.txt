<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Registration Form</title>
    <style>
        /* Your CSS styles here */
    </style>
</head>
<body>
    <h1>Registration Form</h1>
    <form id="registrationForm">
        <label for="projectCharge">Project Charge Code:</label>
        <input type="text" id="projectCharge" required><br>

        <label for="area">Area:</label>
        <select id="area" required>
            <option value="">Select an Area</option>
            <option value="Americas">Americas</option>
            <option value="APAC">APAC</option>
        </select><br>

        <label for="projectName">Project Name:</label>
        <input type="text" id="projectName" required><br>

        <label for="region">Region:</label>
        <select id="region" required>
            <option value="">Select a Region</option>
        </select><br>

        <label for="techState">Technology State:</label>
        <select id="techState" required>
            <option value="Ameri">Ameri</option>
            <option value="APAC">APAC</option>
        </select><br>

        <label for="deadline">Deadline (MM-dd-yyyy):</label>
        <input type="text" id="deadline" placeholder="MM-dd-yyyy" required><br>

        <button type="button" id="submit">Submit</button>
    </form>

    <script>
        document.getElementById('area').addEventListener('change', function () {
            updateRegionOptions();
        });

        document.getElementById('submit').addEventListener('click', function () {
            submitForm();
        });

        function updateRegionOptions() {
            var areaSelect = document.getElementById('area');
            var regionSelect = document.getElementById('region');

            // Clear existing options
            regionSelect.innerHTML = '<option value="">Select a Region</option>';

            if (areaSelect.value === 'Americas') {
                var americasRegions = ["Central", "West", "East", "FSO", "Canada", "Israel", "MeCAR", "SAR"];
                for (var i = 0; i < americasRegions.length; i++) {
                    var option = document.createElement('option');
                    option.value = americasRegions[i];
                    option.textContent = americasRegions[i];
                    regionSelect.appendChild(option);
                }
            } else if (areaSelect.value === 'APAC') {
                var apacRegions = ["ASEAN", "FSO", "Greater China", "Korea", "Oceania"];
                for (var j = 0; j < apacRegions.length; j++) {
                    var option2 = document.createElement('option');
                    option2.value = apacRegions[j];
                    option2.textContent = apacRegions[j];
                    regionSelect.appendChild(option2);
                }
            }
        }

        function submitForm() {
            var projectCharge = document.getElementById('projectCharge').value;
            var area = document.getElementById('area').value;
            var projectName = document.getElementById('projectName').value;
            var region = document.getElementById('region').value;
            var techState = document.getElementById('techState').value;
            var deadline = document.getElementById('deadline').value;

            // Validation
            if (!validateProjectCharge(projectCharge)) {
                alert("Invalid project charge code.");
            } else if (!isValidDateFormat(deadline)) {
                alert("Invalid date format. Please enter a date in MM-dd-yyyy format.");
            } else if (isPastDate(deadline)) {
                alert("The deadline cannot be a date in the past.");
            } else {
                // Form submission logic here

                // Clear form fields after submission if desired
                document.getElementById('projectCharge').value = '';
                document.getElementById('area').value = '';
                document.getElementById('projectName').value = '';
                document.getElementById('region').value = '';
                document.getElementById('techState').value = '';
                document.getElementById('deadline').value = '';

                alert('Form submitted successfully!');
            }
        }

        function validateProjectCharge(projectCharge) {
            projectCharge = projectCharge.toLowerCase();
            return projectCharge.length === 10 && (projectCharge.startsWith("i-") || projectCharge.startsWith("e-") || projectCharge.startsWith("m-"));
        }

        function isValidDateFormat(date) {
            var dateFormat = /^(\d{2})-(\d{2})-(\d{4})$/;
            if (!date.match(dateFormat)) return false;
            var month = parseInt(date.split("-")[0]);
            var day = parseInt(date.split("-")[1]);
            var year = parseInt(date.split("-")[2]);
            if (year < 1000 || year > 3000 || month == 0 || month > 12) return false;
            if (day == 0 || day > 31) return false;
            if ((month == 4 || month == 6 || month == 9 || month == 11) && day > 30) return false;
            if (month == 2) {
                if (year % 400 == 0 || (year % 4 == 0 && year % 100 != 0)) {
                    if (day > 29) return false;
                } else {
                    if (day > 28) return false;
                }
            }
            return true;
        }

        function isPastDate(dateString) {
            var today = new Date();
            var selectedDate = new Date(dateString);
            // Remove time component to compare dates only
            today.setHours(0, 0, 0, 0);
            selectedDate.setHours(0, 0, 0, 0);
            return selectedDate < today;
        }
    </script>
</body>
</html>